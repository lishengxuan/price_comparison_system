{% extends 'base.html' %}
{% block title %}首页{% endblock %}
{% block head %}
    <meta charset="utf-8">
    <link rel="icon" href="https://jscdn.com.cn/highcharts/images/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* css 代码  */
    </style>
    <script src="https://code.highcharts.com.cn/highcharts/highcharts.js"></script>
    <script src="https://code.highcharts.com.cn/highcharts/modules/exporting.js"></script>
    <script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
{% endblock %}
{% block main %}
    <div id="container" style="min-width:400px;height:400px"></div>
    <script>
        var chart = Highcharts.chart('container', {
            title: {
                text: '价位<br>占比',
                align: 'center',
                verticalAlign: 'middle',
                y: 50
            },
            tooltip: {
                headerFormat: '{series.name}<br>',
                pointFormat: '{point.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
                pie: {
                    dataLabels: {
                        enabled: true,
                        distance: -50,
                        style: {
                            fontWeight: 'bold',
                            color: 'white',
                            textShadow: '0px 1px 2px black'
                        }
                    },
                    startAngle: -90, // 圆环的开始角度
                    endAngle: 90,    // 圆环的结束角度
                    center: ['50%', '75%']
                }
            },
            series: [{
                type: 'pie',
                name: '价格占比',
                innerSize: '50%',
                data: eval('{{result_json|safe }}')
            }]
        });

    </script>
{% endblock %}
